var $app=function(h){var y,V;"use strict";var ut=Object.defineProperty;var lt=(h,i,l)=>i in h?ut(h,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):h[i]=l;var A=(h,i,l)=>(lt(h,typeof i!="symbol"?i+"":i,l),l),ft=(h,i,l)=>{if(!i.has(h))throw TypeError("Cannot "+l)};var G=(h,i,l)=>{if(i.has(h))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(h):i.set(h,l)};var Y=(h,i,l)=>(ft(h,i,"access private method"),l);var i=(e=>(e.ID="x-oid",e.TEXT="x-text",e.HTML="x-html",e.SYNC="x-sync",e.MODEL="x-model",e.SHOW="x-show",e.FOR="x-for",e.BIND_SRC="x-bind:src",e.BIND_HREF="x-bind:href",e.BIND_CHECKED="x-bind:checked",e.BIND_VALUE="x-bind:value",e.BIND_SELECTED="x-bind:selected",e.BIND_CLASS="x-bind:class",e.BIND_DISABLED="x-bind:disabled",e.BIND_REQUIRED="x-bind:required",e.ON_INPUT="x-on:input",e.ON_CHANGE="x-on:change",e.ON_CLICK="x-on:click",e.ON_SUBMIT="x-on:submit",e.ON_MOUNTED="x-on:mounted",e))(i||{}),l=(e=>(e.INPUT="input",e.CHANGE="change",e.CLICK="click",e.SUBMIT="submit",e))(l||{});const Q=(e=document)=>e.documentElement.getAttribute("data-wf-site"),X=async e=>{var s,r;const{Webflow:t}=window;if(!(!t||!("destroy"in t)||!("ready"in t)||!("require"in t))&&!(e&&!e.length)){if(e||(t.destroy(),t.ready()),!e||e.includes("ix2")){const n=t.require("ix2");if(n){const{store:o,actions:c}=n,{eventState:a}=o.getState().ixSession,u=Object.entries(a);e||n.destroy(),n.init(),await Promise.all(u.map(f=>o.dispatch(c.eventStateChanged(...f))))}}if(!e||e.includes("commerce")){const n=t.require("commerce"),o=Q();n&&o&&(n.destroy(),n.init({siteId:o,apiUrl:"https://render.webflow.com"}))}if(e!=null&&e.includes("lightbox")&&((s=t.require("lightbox"))==null||s.ready()),e!=null&&e.includes("slider")){const n=t.require("slider");n&&(n.redraw(),n.ready())}return e!=null&&e.includes("tabs")&&((r=t.require("tabs"))==null||r.redraw()),new Promise(n=>t.push(()=>n(void 0)))}};function z(e,t,s=""){let r=`${s}[${t}]`;t===i.SYNC&&(r+=`, ${s}[${i.MODEL}]`);let n=Array.from(e.querySelectorAll(r.replaceAll(":","\\:"))).filter(o=>o instanceof HTMLElement&&o.parentElement&&!o.parentElement.closest(`[${i.FOR}]`));return t!==i.FOR&&(n=n.filter(o=>!o.hasAttribute(i.FOR))),e.hasAttribute(t)&&n.push(e),n}function J(e,t,s){const r=t.split("."),n=r.pop()||"",o=r.reduce((c,a)=>c[a],e);o[n]=s}function w(e,t){return!e||!t?void 0:t.split(".").reduce((r,n)=>r&&r[n],e)}function Z(){var t;const e=document.createElement("style");e.title="soFetch - Global Styles",document.head.appendChild(e),(t=e.sheet)==null||t.insertRule(`[${i.FOR}] {display: none;}`)}function tt(){return document.documentElement.hasAttribute("data-wf-domain")}async function et(e){await X(e),e||document.dispatchEvent(new Event("readystatechange"))}class m{constructor(t,s,r=[]){A(this,"target");return this.target=t,new Proxy(this.target,this.createHandler(s,r))}createHandler(t,s){return{set(r,n,o,c){let a=null;if(r[n]===o)return!0;Array.isArray(r[n])&&(a=t.targetMap.get(r[n]));const u=Reflect.set(r,n,o,c);return a&&(t.targetMap.delete(r[n]),t.targetMap.set(c[n],a)),t.trigger(c,n),window.$app.inspector&&typeof window.$app.inspector=="function"&&window.$app.inspector(t.name,t.store),u},get:function(r,n,o){return n==="_isProxy"?!0:(typeof r[n]=="function"||(n in r&&typeof r[n]=="object"&&r[n]!==null&&!r[n]._isProxy&&(r[n]=new m(r[n],t,s.concat(n))),typeof n!="symbol"&&t.activeEffect.el&&t.activeEffect.fn&&t.activeEffect.ctx&&t.watch(o,n,t.activeEffect.el,t.activeEffect.fn,t.activeEffect.ctx)),r[n])}}}}const x=Object.create(null),b=(e,t,s,r,n)=>rt(e,t,`return(${s})`,r,n),rt=(e,t,s,r,n)=>{const o=x[s]||(x[s]=nt(s));try{return o(e,t,r,n)}catch(c){console.error(c)}},nt=e=>{try{return new Function("$store","$scope","$el","$event",`with($scope){${e}}`)}catch(t){return console.error(`${t.message} in expression: ${e}`),()=>{}}};function it(e,t=100,s=!1){let r;return function(...n){const o=this,c=function(){r=void 0,s||e.apply(o,n)},a=s&&!r;clearTimeout(r),r=setTimeout(c,t),a&&e.apply(o,n)}}const M=(e,t,s,r,n)=>{n.preventDefault(),b(e,t,`${s}`,r,n)},st=it((e,t,s,r,n)=>(n.preventDefault(),b(e,t,s,r,n)),300),T=(e,t,s)=>{if(!(t instanceof HTMLInputElement)&&!(t instanceof HTMLTextAreaElement)&&!(t instanceof HTMLSelectElement)){console.error(`${i.SYNC} only supports <input> elements.`);return}const r=t.getAttribute(i.SYNC)||t.getAttribute(i.MODEL);if(r)if(r.includes(".")){const n=r.split("."),o=n.pop(),c=w(s,n.join("."));t.value=c[o]}else t.value=s[r]},D=(e,t,s,r,n)=>{if(!(r instanceof HTMLInputElement)&&!(r instanceof HTMLTextAreaElement)&&!(r instanceof HTMLSelectElement)){console.error(`${i.SYNC} only supports <input> elements.`);return}n.preventDefault(),J(t,s,r.value)},C=(e,t,s)=>{const r=t.getAttribute(i.TEXT);r&&(t.textContent=b(e.store,s,r,t))},_=(e,t,s)=>{if(!(t instanceof HTMLImageElement)){console.error(`${i.BIND_SRC} only supports <src> elements.`);return}const r=t.getAttribute(i.BIND_SRC);r&&(t.src=b(e.store,s,r,t))},L=(e,t,s,r,n)=>{n.preventDefault(),b(e,t,`${s}`,r,n)},O=(e,t,s)=>{var o;const r=t.getAttribute(i.SHOW),n=t.getAttribute(i.ID);if(r&&n){const c=b(e.store,s,r,t);t.style.display=c===!0?((o=e.initialStateMap.get(n))==null?void 0:o.display)||"block":"none"}},B=(e,t,s,r,n)=>{n.preventDefault(),n.stopPropagation(),b(e,t,`${s}`,r,n)},H=(e,t,s)=>{var o,c,a,u;if(!(t instanceof HTMLInputElement)){console.error(`${i.BIND_CHECKED} only supports <input> elements.`);return}const r=t.type==="checkbox"&&((o=t.previousElementSibling)==null?void 0:o.classList.contains("w-checkbox-input--inputType-custom"))||t.type==="radio"&&((c=t.previousElementSibling)==null?void 0:c.classList.contains("w-form-formradioinput--inputType-custom")),n=t.getAttribute(i.BIND_CHECKED);n&&(t.checked=b(e.store,s,n,t),r&&(t.checked?(a=t.previousElementSibling)==null||a.classList.add("w--redirected-checked"):(u=t.previousElementSibling)==null||u.classList.remove("w--redirected-checked")))},R=(e,t,s)=>{if(!(t instanceof HTMLAnchorElement)){console.error(`${i.BIND_HREF} does not support <a> elements.`);return}const r=t.getAttribute(i.BIND_HREF);r&&(t.href=b(e.store,s,r,t))},$=(e,t,s,r,n)=>{n.preventDefault(),n.stopPropagation(),b(e,t,`${s}`,r,n)},U=(e,t,s)=>{if(!(t instanceof HTMLInputElement)&&!(t instanceof HTMLOptionElement)&&!(t instanceof HTMLTextAreaElement)){console.error(`${i.BIND_VALUE} does not support <input> and <option> elements.`);return}const r=t.getAttribute(i.BIND_VALUE);r&&(t.value=b(e.store,s,r,t))},P=(e,t,s)=>{if(!(t instanceof HTMLOptionElement)){console.error(`${i.BIND_SELECTED} does not support <option> elements.`);return}const r=t.getAttribute(i.BIND_SELECTED);r&&(t.selected=b(e.store,s,r,t))},v=(e,t,s)=>{const r=/^([a-zA-Z-_]+)\s+(?:if)\s+([\s\S]+)$/,n=t.getAttribute(i.BIND_CLASS),o=n&&n.match(r);if(!o){console.warn(`invalid x-bind:class expression: ${n}`);return}const c=o[1].trim(),a=o[2].trim();a&&(b(e.store,s,a,t)?t.classList.add(c):t.classList.remove(c))},W=(e,t,s)=>{const r=t.getAttribute(i.HTML);r&&(t.innerHTML=b(e.store,s,r,t))},k=(e,t,s)=>{if(!(t instanceof HTMLInputElement)&&!(t instanceof HTMLTextAreaElement)&&!(t instanceof HTMLButtonElement)&&!(t instanceof HTMLSelectElement)&&!(t instanceof HTMLOptionElement)){console.error(`${i.BIND_DISABLED} only supports <input>, <textarea>, <button>, <select> & <option> elements.`);return}const r=t.getAttribute(i.BIND_DISABLED);r&&(t.disabled=b(e.store,s,r,t))},F=(e,t,s)=>{if(!(t instanceof HTMLInputElement)&&!(t instanceof HTMLTextAreaElement)&&!(t instanceof HTMLSelectElement)){console.error(`${i.BIND_REQUIRED} only supports <input>, <textarea>, <button>, <select> & <option> elements.`);return}const r=t.getAttribute(i.BIND_REQUIRED);r&&(t.required=b(e.store,s,r,t))},g=(e,t,s)=>{const r=/^([a-zA-Z]+)\s+(?:in)\s+([\s\S]+)$/,n=t.getAttribute(i.FOR),o=n&&n.match(r);if(!o){console.warn(`invalid x-for expression: ${n}`);return}const c=o[1].trim(),a=o[2].trim(),u=b(e.store,s,a,t);if(e.activeEffect={fn:null,el:null,ctx:null},!u||!Array.isArray(u))return;let f,E;if(a.includes(".")){const I=a.lastIndexOf("."),S=a.substring(0,I);E=a.substring(I+1),f=w(s,S)}else E=a,f=s;for(e.watch(f,E,t,g,s),e.watch(f[E],"__root__",t,g,s);t.parentElement&&t.nextSibling;)t.parentElement.removeChild(t.nextSibling);u.forEach((I,S)=>{var q;const p=t.cloneNode(!0);p.removeAttribute(i.FOR);const d=Object.create(s);Object.defineProperties(d,Object.getOwnPropertyDescriptors({[c]:I,index:S})),e.registerAttribute(i.TEXT,d,p,C),e.registerAttribute(i.HTML,d,p,W),e.registerAttribute(i.SHOW,d,p,O),e.registerAttribute(i.BIND_VALUE,d,p,U),e.registerAttribute(i.BIND_SRC,d,p,_),e.registerAttribute(i.BIND_CHECKED,d,p,H),e.registerAttribute(i.BIND_SELECTED,d,p,P),e.registerAttribute(i.BIND_DISABLED,d,p,k),e.registerAttribute(i.BIND_REQUIRED,d,p,F),e.registerAttribute(i.BIND_HREF,d,p,R),e.registerAttribute(i.BIND_CLASS,d,p,v),e.registerAttribute(i.ON_INPUT,d,p,null,l.INPUT,M),e.registerAttribute(i.ON_CHANGE,d,p,null,l.CHANGE,$),e.registerAttribute(i.ON_CLICK,d,p,null,l.CLICK,L),e.registerAttribute(i.ON_SUBMIT,d,p,null,l.SUBMIT,B),e.registerAttribute(i.SYNC,d,p,T,l.INPUT,D),e.registerAttribute(i.FOR,d,p,g),(q=t.parentElement)==null||q.appendChild(p)})};class ot{constructor(t,s){G(this,y);A(this,"name");A(this,"store");A(this,"initialStateMap");A(this,"activeEffect");A(this,"element");A(this,"targetMap");this.name=t,this.element=null,this.store=new m(s,this),this.targetMap=new WeakMap,this.initialStateMap=new Map,this.activeEffect={fn:null,el:null,ctx:null}}mount(t){var s,r;if(t?typeof t=="string"?this.element=document.querySelector(t):this.element=t:document.currentScript&&(tt()&&((r=(s=document.currentScript)==null?void 0:s.parentElement)!=null&&r.parentElement)?this.element=document.currentScript.parentElement.parentElement:this.element=document.currentScript.parentElement),!this.element)throw new Error(`element not found using selector  '${t}'`);if(Array.from(this.element.querySelectorAll(`[${i.SHOW}]`)).forEach(n=>{const o=crypto.randomUUID();n.setAttribute(i.ID,o);let c=getComputedStyle(n).display;(n.classList.contains("w-form-done")||n.classList.contains("w-form-fail"))&&(c="block"),this.initialStateMap.set(o,{display:c})}),this.registerRootAttribute(i.BIND_VALUE,U),this.registerRootAttribute(i.BIND_SRC,_),this.registerRootAttribute(i.BIND_CHECKED,H),this.registerRootAttribute(i.BIND_SELECTED,P),this.registerRootAttribute(i.BIND_DISABLED,k),this.registerRootAttribute(i.BIND_REQUIRED,F),this.registerRootAttribute(i.BIND_HREF,R),this.registerRootAttribute(i.BIND_CLASS,v),this.registerRootAttribute(i.TEXT,C),this.registerRootAttribute(i.HTML,W),this.registerRootAttribute(i.SHOW,O),this.registerRootAttribute(i.ON_INPUT,null,l.INPUT,M),this.registerRootAttribute(i.ON_CHANGE,null,l.CHANGE,$),this.registerRootAttribute(i.ON_CLICK,null,l.CLICK,L),this.registerRootAttribute(i.ON_SUBMIT,null,l.SUBMIT,B),this.registerRootAttribute(i.SYNC,T,l.INPUT,D),this.registerRootAttribute(i.FOR,g),this.element.hasAttribute(i.ON_MOUNTED)){const n=this.element.getAttribute(i.ON_MOUNTED);b(this.store,this.store,`${n}`,this.element)}return this}registerAttribute(t,s,r,n,o,c){z(r,t).forEach(u=>{let f=u.getAttribute(t);u.hasAttribute(i.MODEL)&&console.warn("DEPRECATION WARNING: x-model is being replaced by x-sync and will be removed in a future release. Please update your code accordingly. For more information, see the x-sync documentation at https://shinyobjectlabs.gitbook.io/framework-js/attributes/x-sync"),!f&&t===i.SYNC&&(f=u.getAttribute(i.MODEL)),t===i.ON_INPUT&&u instanceof HTMLInputElement&&(u.type==="text"||u.type==="textarea")&&(c=st),f&&(c&&o&&u.addEventListener(o,E=>{c&&f&&c(this.store,s,f,u,E)}),n&&Y(this,y,V).call(this,n,s,f,u))})}registerRootAttribute(t,s,r,n){this.element&&this.registerAttribute(t,this.store,this.element,s,r,n)}watch(t,s,r,n,o){if(s===""||typeof t!="object")return;const c=this.targetMap.get(t);if(c){const a=c.get(s);if(a){const u=a.get(r);if(u)u.context=o,u.effects.add(n);else{const f=new Set;f.add(n);const E={context:o,effects:f};a.set(r,E)}}else{const u=new Set;u.add(n);const f={context:o,effects:u},E=new Map;E.set(r,f),c.set(s,E)}}else{const a=new Set;a.add(n);const u={context:o,effects:a},f=new Map;f.set(r,u);const E=new Map;E.set(s,f),this.targetMap.set(t,E)}}trigger(t,s){const r=this.targetMap.get(t);if(r)if(Array.isArray(t)||Array.isArray(t[s]))for(let[n,o]of r)this.processElementMap(o);else{const n=r.get(s);if(!n)return;this.processElementMap(n)}}processElementMap(t){const s=Array.from(t.keys());for(const r of s){const n=t.get(r);if(!n)return;const o=Array.from(n.effects);for(let c of o){if(!r){t.delete(r);return}const a=n.context||this.store;c(this,r,a)}}}}y=new WeakSet,V=function(t,s,r,n){this.activeEffect.fn=t,this.activeEffect.fn&&(this.activeEffect.el=n,this.activeEffect.ctx=s,this.activeEffect.fn(this,n,s)),this.activeEffect={fn:null,el:null,ctx:null}};async function*ct(e){const t=/\r?\n/,s=new TextDecoder;let r="",n=e.read();for(;;){const{done:o,value:c}=await n;if(o){r.length>0&&(yield JSON.parse(r));return}const a=s.decode(c,{stream:!0});r+=a;const u=r.split(t);r=u.pop()||"";for(const f of u)yield JSON.parse(f);n=e.read()}}const N={},j={},K={};h.inspector=void 0,console.log("SO-Framework v0.1.2"),Z();const at=(e,t={})=>(N[e]=new ot(e,t),N[e]);return j.restartWebflow=async function(e){await et(e)},K.ndjson=function(e){return ct(e)},h.inspector=null,h.components=N,h.createComponent=at,h.generators=K,h.helpers=j,Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),h}({});